<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>UniTN Booking Bot: utils/db_read.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="unitn_logo_100x100.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">UniTN Booking Bot
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">A Telegram Bot for booking appointments at UniTN</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_cbdb8362360e11eafe2fa3bc74cf0ffd.html">utils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">db_read.py File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions to retrieve the values from the database.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5b057bcb614c1e38e72abff6d8f5f125"><td class="memItemLeft" align="right" valign="top">list[tuple[int, str, str]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__read_8py.html#a5b057bcb614c1e38e72abff6d8f5f125">db_read.get_users</a> (str db)</td></tr>
<tr class="memdesc:a5b057bcb614c1e38e72abff6d8f5f125"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a list of all the users in the database.  <a href="db__read_8py.html#a5b057bcb614c1e38e72abff6d8f5f125">More...</a><br /></td></tr>
<tr class="separator:a5b057bcb614c1e38e72abff6d8f5f125"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d505fbd65e5e879a7e8f090a22b65c4"><td class="memItemLeft" align="right" valign="top">[str, str]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__read_8py.html#a0d505fbd65e5e879a7e8f090a22b65c4">db_read.get_user_from_id</a> (str db, int user_id)</td></tr>
<tr class="memdesc:a0d505fbd65e5e879a7e8f090a22b65c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the data of a specific user record.  <a href="db__read_8py.html#a0d505fbd65e5e879a7e8f090a22b65c4">More...</a><br /></td></tr>
<tr class="separator:a0d505fbd65e5e879a7e8f090a22b65c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95d772e7586936ec46a5be2036c7e77d"><td class="memItemLeft" align="right" valign="top">list[tuple[int, str, str]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__read_8py.html#a95d772e7586936ec46a5be2036c7e77d">db_read.get_fairs</a> (str db)</td></tr>
<tr class="memdesc:a95d772e7586936ec46a5be2036c7e77d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a list of all the fairs in the database.  <a href="db__read_8py.html#a95d772e7586936ec46a5be2036c7e77d">More...</a><br /></td></tr>
<tr class="separator:a95d772e7586936ec46a5be2036c7e77d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab28bed3425acbfee909736a861ea4b57"><td class="memItemLeft" align="right" valign="top">[str, str]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__read_8py.html#ab28bed3425acbfee909736a861ea4b57">db_read.get_fair_from_id</a> (str db, int fair_id)</td></tr>
<tr class="memdesc:ab28bed3425acbfee909736a861ea4b57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the data of a specific fair record.  <a href="db__read_8py.html#ab28bed3425acbfee909736a861ea4b57">More...</a><br /></td></tr>
<tr class="separator:ab28bed3425acbfee909736a861ea4b57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd191c0c88125997562726f9f85c0d9d"><td class="memItemLeft" align="right" valign="top">list[tuple[int, int, int, str, str]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__read_8py.html#afd191c0c88125997562726f9f85c0d9d">db_read.get_events</a> (str db)</td></tr>
<tr class="memdesc:afd191c0c88125997562726f9f85c0d9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a list of all the events in the database.  <a href="db__read_8py.html#afd191c0c88125997562726f9f85c0d9d">More...</a><br /></td></tr>
<tr class="separator:afd191c0c88125997562726f9f85c0d9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fae72b591dfd581717035118b735562"><td class="memItemLeft" align="right" valign="top">[int, int, str, str]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__read_8py.html#a2fae72b591dfd581717035118b735562">db_read.get_event_from_id</a> (str db, int event_id)</td></tr>
<tr class="memdesc:a2fae72b591dfd581717035118b735562"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the data of a specific event record.  <a href="db__read_8py.html#a2fae72b591dfd581717035118b735562">More...</a><br /></td></tr>
<tr class="separator:a2fae72b591dfd581717035118b735562"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32d6f4470e8a7ceefb7428528ec90dbd"><td class="memItemLeft" align="right" valign="top">str|None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__read_8py.html#a32d6f4470e8a7ceefb7428528ec90dbd">db_read.get_event_name</a> (str db, int event_id)</td></tr>
<tr class="memdesc:a32d6f4470e8a7ceefb7428528ec90dbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the name of a specific event record.  <a href="db__read_8py.html#a32d6f4470e8a7ceefb7428528ec90dbd">More...</a><br /></td></tr>
<tr class="separator:a32d6f4470e8a7ceefb7428528ec90dbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bd92ee021965e1268f671e118bb6052"><td class="memItemLeft" align="right" valign="top">list[tuple[int, int, int, str, str]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__read_8py.html#a0bd92ee021965e1268f671e118bb6052">db_read.get_events_given_fair</a> (str db, int fair_id)</td></tr>
<tr class="memdesc:a0bd92ee021965e1268f671e118bb6052"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a list of all the events belonging to a fair.  <a href="db__read_8py.html#a0bd92ee021965e1268f671e118bb6052">More...</a><br /></td></tr>
<tr class="separator:a0bd92ee021965e1268f671e118bb6052"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acab745836b68aa15598301e0240d8eaf"><td class="memItemLeft" align="right" valign="top">list[tuple[int, int, int, str, str]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__read_8py.html#acab745836b68aa15598301e0240d8eaf">db_read.get_events_given_owner</a> (str db, int owner_id)</td></tr>
<tr class="memdesc:acab745836b68aa15598301e0240d8eaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a list of all the events published by a user.  <a href="db__read_8py.html#acab745836b68aa15598301e0240d8eaf">More...</a><br /></td></tr>
<tr class="separator:acab745836b68aa15598301e0240d8eaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae150f39991edfb7485ecd3ec991275da"><td class="memItemLeft" align="right" valign="top">list[tuple[int, int, int, str, str]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__read_8py.html#ae150f39991edfb7485ecd3ec991275da">db_read.get_slots</a> (str db)</td></tr>
<tr class="memdesc:ae150f39991edfb7485ecd3ec991275da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a list of all the slots in the database.  <a href="db__read_8py.html#ae150f39991edfb7485ecd3ec991275da">More...</a><br /></td></tr>
<tr class="separator:ae150f39991edfb7485ecd3ec991275da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af51de69e8f2da01c8b6052b60808e18c"><td class="memItemLeft" align="right" valign="top">[int, int, str, str]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__read_8py.html#af51de69e8f2da01c8b6052b60808e18c">db_read.get_slot_from_id</a> (str db, int slot_id)</td></tr>
<tr class="memdesc:af51de69e8f2da01c8b6052b60808e18c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the data of a specific slot record.  <a href="db__read_8py.html#af51de69e8f2da01c8b6052b60808e18c">More...</a><br /></td></tr>
<tr class="separator:af51de69e8f2da01c8b6052b60808e18c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a264f5886cff2b5a9dc3be3abde2b3428"><td class="memItemLeft" align="right" valign="top">list[tuple[str]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__read_8py.html#a264f5886cff2b5a9dc3be3abde2b3428">db_read.get_slot_dates</a> (str db, int event_id)</td></tr>
<tr class="memdesc:a264f5886cff2b5a9dc3be3abde2b3428"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a list of all the dates with at least one free slot associated with them, restricted to a given event.  <a href="db__read_8py.html#a264f5886cff2b5a9dc3be3abde2b3428">More...</a><br /></td></tr>
<tr class="separator:a264f5886cff2b5a9dc3be3abde2b3428"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67006e7ab03e152d0027952ddb1e6355"><td class="memItemLeft" align="right" valign="top">list[tuple[int, str, str]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__read_8py.html#a67006e7ab03e152d0027952ddb1e6355">db_read.get_slot_times</a> (str db, int event_id, str slot_day)</td></tr>
<tr class="memdesc:a67006e7ab03e152d0027952ddb1e6355"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a list of all the slots in the database for a given date and event.  <a href="db__read_8py.html#a67006e7ab03e152d0027952ddb1e6355">More...</a><br /></td></tr>
<tr class="separator:a67006e7ab03e152d0027952ddb1e6355"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9664c42edaad3799fb01c415379b20ac"><td class="memItemLeft" align="right" valign="top">list[tuple[int, int, str, str, str, str]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__read_8py.html#a9664c42edaad3799fb01c415379b20ac">db_read.get_slots_given_user</a> (str db, int user_id)</td></tr>
<tr class="memdesc:a9664c42edaad3799fb01c415379b20ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a list of all the slots booked by a user.  <a href="db__read_8py.html#a9664c42edaad3799fb01c415379b20ac">More...</a><br /></td></tr>
<tr class="separator:a9664c42edaad3799fb01c415379b20ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6fab8aad063720a195e45133088fff4"><td class="memItemLeft" align="right" valign="top">list[tuple[int, int, str, str, str, str]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__read_8py.html#aa6fab8aad063720a195e45133088fff4">db_read.get_slots_given_event</a> (str db, int event_id)</td></tr>
<tr class="memdesc:aa6fab8aad063720a195e45133088fff4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a list of all the slots associated to an event.  <a href="db__read_8py.html#aa6fab8aad063720a195e45133088fff4">More...</a><br /></td></tr>
<tr class="separator:aa6fab8aad063720a195e45133088fff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b263103cf07033b8544225b8f0f1ce5"><td class="memItemLeft" align="right" valign="top">[int, int]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="db__read_8py.html#a7b263103cf07033b8544225b8f0f1ce5">db_read.count_slots</a> (str db, int event_id)</td></tr>
<tr class="memdesc:a7b263103cf07033b8544225b8f0f1ce5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counts the free and total number of slots associate with an event.  <a href="db__read_8py.html#a7b263103cf07033b8544225b8f0f1ce5">More...</a><br /></td></tr>
<tr class="separator:a7b263103cf07033b8544225b8f0f1ce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions to retrieve the values from the database. </p>
<p>This file contains the implementation of the functions with reading access to the database, i.e. that can't modify the records contained in it but can only retrieve values. They are grouped into four categories:</p>
<p>1) Functions to read from "users" table</p>
<p>2) Functions to read from "fairs" table</p>
<p>3) Functions to read from "events" table</p>
<p>4) Functions to read from "slots" table </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a7b263103cf07033b8544225b8f0f1ce5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b263103cf07033b8544225b8f0f1ce5">&#9670;&nbsp;</a></span>count_slots()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> [int, int] db_read.count_slots </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>event_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Counts the free and total number of slots associate with an event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>string, the path to the database file </td></tr>
    <tr><td class="paramname">event_id</td><td>integer, only slots associated with this event are considered </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>free_slots: integer, number of free slots associated to the event </dd>
<dd>
all_slots: integer, total number of slots associated to the event</dd></dl>
<p>This function counts how many slots associated to a given event are free, i.e. with NULL <code>user_id</code>, as well as the total number of slots associated to the event, regardless of their <code>user_id</code>. </p>

</div>
</div>
<a id="a2fae72b591dfd581717035118b735562"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fae72b591dfd581717035118b735562">&#9670;&nbsp;</a></span>get_event_from_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> [int,int,str, str] db_read.get_event_from_id </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>event_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the data of a specific event record. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>string, the path to the database file </td></tr>
    <tr><td class="paramname">event_id</td><td>integer, ID of the event to retrieve </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>fair_id: integer, ID of the fair the event belongs to </dd>
<dd>
owner_id: integer, ID of the user that published the event </dd>
<dd>
name: string, the event's name </dd>
<dd>
description: string, the event's description</dd></dl>
<p>Given the identifier of an event record, this function returns the data associated with it: fair's ID, owner's ID, name and description. In case no record is associated to the ID, a tuple of four None is returned. </p>

</div>
</div>
<a id="a32d6f4470e8a7ceefb7428528ec90dbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32d6f4470e8a7ceefb7428528ec90dbd">&#9670;&nbsp;</a></span>get_event_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> str|None db_read.get_event_name </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>event_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the name of a specific event record. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>string, the path to the database file </td></tr>
    <tr><td class="paramname">event_id</td><td>integer, ID of the event to retrieve </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string, the event's name</dd></dl>
<p>Specialization of <code>get_event_from_id</code> that returns only the most requested field of an event record: the name. In case no record is associated to the ID, None is returned. </p>

</div>
</div>
<a id="afd191c0c88125997562726f9f85c0d9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd191c0c88125997562726f9f85c0d9d">&#9670;&nbsp;</a></span>get_events()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> list[tuple[int,int,int,str,str]] db_read.get_events </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves a list of all the events in the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>string, the path to the database file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>list[tuple[int,int,int,str,str]], a list of all the event records, each one being a tuple (event_id,fair_id,owner_id,name,description)</dd></dl>
<p>This function retrieves all the events in the database and returns them as a list of tuples ordered by name, each one structured as <code>(event_id,fair_id,owner_id,name,description)</code>. </p>

</div>
</div>
<a id="a0bd92ee021965e1268f671e118bb6052"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bd92ee021965e1268f671e118bb6052">&#9670;&nbsp;</a></span>get_events_given_fair()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> list[tuple[int,int,int,str,str]] db_read.get_events_given_fair </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fair_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves a list of all the events belonging to a fair. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>string, the path to the database file </td></tr>
    <tr><td class="paramname">fair_id</td><td>integer, only the events belonging to this fair are considered </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>list[tuple[int,int,int,str,str]], a list of the event records belonging to the fair, each one being a tuple (event_id, fair_id, owner_id, name, description)</dd></dl>
<p>This function retrieves all the events in the database belonging to a certain fair. The result is a list of tuples ordered by name, each one structured as <code>(event_id,fair_id,owner_id,name,description)</code>. </p>

</div>
</div>
<a id="acab745836b68aa15598301e0240d8eaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acab745836b68aa15598301e0240d8eaf">&#9670;&nbsp;</a></span>get_events_given_owner()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> list[tuple[int,int,int,str,str]] db_read.get_events_given_owner </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>owner_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves a list of all the events published by a user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>string, the path to the database file </td></tr>
    <tr><td class="paramname">owner_id</td><td>integer, the ID of the user to look for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>list[tuple[int,int,int,str,str]], a list of the event records published by that user, each one being a tuple (event_id, fair_id, owner_id, name, description)</dd></dl>
<p>This function retrieves all the events in the database with a certain <code>owner_id</code>, i.e. published by a certain user. The result is a list of tuples ordered by name, each one structured as <code>(event_id,fair_id,owner_id,name,description)</code>. </p>

</div>
</div>
<a id="ab28bed3425acbfee909736a861ea4b57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab28bed3425acbfee909736a861ea4b57">&#9670;&nbsp;</a></span>get_fair_from_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> [str, str] db_read.get_fair_from_id </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fair_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the data of a specific fair record. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>string, the path to the database file </td></tr>
    <tr><td class="paramname">fair_id</td><td>integer, ID of the fair to retrieve </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>name: string, the fair's name </dd>
<dd>
description: string, the fair's description</dd></dl>
<p>Given the identifier of a fair record, this function returns the name and description associated with it. In case no record is associated to the ID, a couple <code>(None,None)</code> is returned. </p>

</div>
</div>
<a id="a95d772e7586936ec46a5be2036c7e77d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95d772e7586936ec46a5be2036c7e77d">&#9670;&nbsp;</a></span>get_fairs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> list[tuple[int,str,str]] db_read.get_fairs </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves a list of all the fairs in the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>string, the path to the database file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>list[tuple[int,str,str]], a list of all the fair records, each one being a tuple (user_id,name,description)</dd></dl>
<p>This function retrieves all the fairs in the database and returns them as a list of tuples ordered by name, each one structured as <code>(user_id,name,description)</code>. </p>

</div>
</div>
<a id="a264f5886cff2b5a9dc3be3abde2b3428"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a264f5886cff2b5a9dc3be3abde2b3428">&#9670;&nbsp;</a></span>get_slot_dates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> list[tuple[str]] db_read.get_slot_dates </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>event_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves a list of all the dates with at least one free slot associated with them, restricted to a given event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>string, the path to the database file </td></tr>
    <tr><td class="paramname">event_id</td><td>integer, only slots associated with this event are considered </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>list[tuple[str]], a list of all the days with at least one free slots associated with them, each one being a singleton (date,)</dd></dl>
<p>This function retrieves the dates of all the slots that meets the following criteria:</p>
<p>1) The slot is free, i.e. with NULL user</p>
<p>2) The slot's event_id is the one passed as parameter</p>
<p>The result is a list of tuples, each one structured as a singleton <code>(date,)</code>. </p>

</div>
</div>
<a id="af51de69e8f2da01c8b6052b60808e18c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af51de69e8f2da01c8b6052b60808e18c">&#9670;&nbsp;</a></span>get_slot_from_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> [int, int, str, str] db_read.get_slot_from_id </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>slot_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the data of a specific slot record. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>string, the path to the database file </td></tr>
    <tr><td class="paramname">slot_id</td><td>integer, ID of the slot to retrieve </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>event_id: integer, ID of the event the slot refers to </dd>
<dd>
user_id: integer, ID of the user that booked this slot </dd>
<dd>
start_time: time string ISO-8601, date and time the slot will start </dd>
<dd>
end_time: time string ISO-8601, date and time the slot will end</dd></dl>
<p>Given the identifier of a slot record, this function returns the data associated with it: event's ID, user that booked it (None if it's a free slot), start time and end time. The two times are time strings in ISO-8601 format. If no record is associated to the ID, a tuple of four None is returned. </p>

</div>
</div>
<a id="a67006e7ab03e152d0027952ddb1e6355"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67006e7ab03e152d0027952ddb1e6355">&#9670;&nbsp;</a></span>get_slot_times()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> list[tuple[int,str,str]] db_read.get_slot_times </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>event_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>slot_day</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves a list of all the slots in the database for a given date and event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>string, the path to the database file </td></tr>
    <tr><td class="paramname">event_id</td><td>integer, only slots associated with this event are considered </td></tr>
    <tr><td class="paramname">slot_day</td><td>time string ISO-8601, only slots scheduled to start on this day are considered </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>list[tuple[int,str,str]], a list of all the slot records, each one being a tuple (slot_id, start_time, end_time)</dd></dl>
<p>This function retrieves all the events in the database associated with a given event ID <b>and</b> scheduled to start on a given day. The result is a list of tuples ordered by <code>start_time</code>, each one structured as <code>(slot_id,start_time,end_time)</code>. Please ensure the <code>slot_day</code> string is formatted according to an ISO-8601 day, i.e. "YYYY-MM-DD", as no format check is made. Also note that since the day is passed as a parameter, <code>start_time</code> and <code>end_time</code> will contain just the ISO-8601 time component as ""HH:MM:SS, without including the day. </p>

</div>
</div>
<a id="ae150f39991edfb7485ecd3ec991275da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae150f39991edfb7485ecd3ec991275da">&#9670;&nbsp;</a></span>get_slots()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> list[tuple[int,int,int,str,str]] db_read.get_slots </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves a list of all the slots in the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>string, the path to the database file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>list[tuple[int,int,int,str,str]], a list of all the slot records, each one being a tuple (slot_id,event_id,user_id,start_time,end_time)</dd></dl>
<p>This function retrieves all the slots in the database and returns them as a list of tuples ordered by start time, each one structured as <code>(slot_id,event_id,user_id,start_time,end_time)</code>. </p>

</div>
</div>
<a id="aa6fab8aad063720a195e45133088fff4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6fab8aad063720a195e45133088fff4">&#9670;&nbsp;</a></span>get_slots_given_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> list[tuple[int,int,str,str,str,str]] db_read.get_slots_given_event </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>event_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves a list of all the slots associated to an event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>string, the path to the database file </td></tr>
    <tr><td class="paramname">event_id</td><td>integer, the ID of the event to look for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>list[tuple[int,int,str,str,str,str]], a list of the slot records associated to the event, each one being a tuple (slot_id,user_id,start_time,end_time,user_name,user_username)</dd></dl>
<p>This function retrieves all the slots in the database with a certain <code>event_id</code>, i.e. associated to a certain event. The result is a list of tuples ordered first by start_time and then by user_name, each one structured as <code>(slot_id,user_id,start_time,end_time,user_name,user_username)</code>. </p>

</div>
</div>
<a id="a9664c42edaad3799fb01c415379b20ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9664c42edaad3799fb01c415379b20ac">&#9670;&nbsp;</a></span>get_slots_given_user()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> list[tuple[int,int,str,str,str,str]] db_read.get_slots_given_user </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>user_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves a list of all the slots booked by a user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>string, the path to the database file </td></tr>
    <tr><td class="paramname">user_id</td><td>integer, the ID of the user to look for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>list[tuple[int,int,str,str,str,str]], a list of the slot records booked by that user, each one being a tuple (slot_id,event_id,start_time,end_time,event_name,event_description)</dd></dl>
<p>This function retrieves all the slots in the database with a certain <code>user_id</code>, i.e. booked by a certain user. The result is a list of tuples ordered first by event_name and then by start_time, each one structured as <code>(slot_id,event_id,start_time,end_time,event_name,event_description)</code>. </p>

</div>
</div>
<a id="a0d505fbd65e5e879a7e8f090a22b65c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d505fbd65e5e879a7e8f090a22b65c4">&#9670;&nbsp;</a></span>get_user_from_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> [str, str] db_read.get_user_from_id </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>user_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the data of a specific user record. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>string, the path to the database file </td></tr>
    <tr><td class="paramname">user_id</td><td>integer, ID of the user to retrieve </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>name: string, the user's name </dd>
<dd>
username: string, the user's username</dd></dl>
<p>Given the identifier of a user record, this function returns the name and username associated with it. In case no record is associated to the ID, a couple <code>(None,None)</code> is returned. </p>

</div>
</div>
<a id="a5b057bcb614c1e38e72abff6d8f5f125"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b057bcb614c1e38e72abff6d8f5f125">&#9670;&nbsp;</a></span>get_users()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> list[tuple[int,str,str]] db_read.get_users </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves a list of all the users in the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>string, the path to the database file </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>list[tuple[int,str,str]], a list of all the user records, each one being a tuple (user_id,name,username)</dd></dl>
<p>This function retrieves all the users in the database and returns them as a list of tuples ordered by name, each one structured as <code>(user_id,name,username)</code>. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
